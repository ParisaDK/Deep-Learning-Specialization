# Error Analysis on Beam Search

In sequence-to-sequence models for machine translation, beam search is often used to generate the most likely output sentence given an input sentence. However, beam search, being an approximate search algorithm, does not always guarantee the optimal solution. This raises the question: when a translation error occurs, is it due to the beam search algorithm or the underlying RNN model?

## Understanding the Process

To determine the source of errors, we perform error analysis by comparing the probabilities assigned by the RNN model to the human-provided translation (y*) and the translation generated by the beam search algorithm (y-hat).

1. **Case 1: P(y*|x) > P(y-hat|x)**
   - If the probability assigned to the human translation is higher than that of the beam search translation, it indicates that the beam search algorithm failed to find the most likely sentence.
   - **Conclusion**: Beam search is at fault.

2. **Case 2: P(y*|x) <= P(y-hat|x)**
   - If the probability assigned to the beam search translation is higher, it suggests that the RNN model incorrectly assigns higher probability to a less optimal translation.
   - **Conclusion**: The RNN model is at fault.

## Practical Application

In a development set, for each translation error, we calculate P(y*|x) and P(y-hat|x). By attributing each error to either the beam search algorithm or the RNN model, we can identify which component needs improvement.

For example:
- **Human Translation**: "Jane visits Africa in September."
- **Algorithm Translation**: "Jane visited Africa last September."
- **Probabilities**: P(y*|x) = 2 x 10^-10, P(y-hat|x) = 1 x 10^-10
- **Conclusion**: Beam search is at fault as P(y*|x) > P(y-hat|x).

This structured approach allows us to efficiently pinpoint the source of errors and focus our efforts on the most impactful improvements, whether it be refining the beam search algorithm or enhancing the RNN model's accuracy.

*This content is based on concepts from Andrew Ng's course on Coursera.* Source: [Andrew Ng's Coursera Course](https://www.coursera.org/learn/nlp-sequence-models/lecture/UhRjI/error-analysis-in-beam-search)

![Error Analysis on Beam Search](Sequence_Models/Week3/ErrorAnalysis_in_BeamSearch/error_analysis_image.png)
